import React, { useState, createContext, useContext } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import './sidebar.css';

const PROFILE_ROUTES: Record<string, string> = {
    doctor: "/doctor/profile",
    assistant: "/assistant/profile",
    pharmacy: "/pharmacy/profile",
    admin: "/admin/profile",
};


// Icons
const Icons = {
    Grid3X3: () => (
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeLinecap='round' strokeLinejoin='round' strokeWidth="2">
            <rect x="3" y="3" width="7" height="7" />
            <rect x="14" y="3" width="7" height="7" />
            <rect x="14" y="14" width="7" height="7" />
            <rect x="3" y="14" width="7" height="7" />
        </svg>
        // <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        //     <path d="M10 5.00049C9.0111 5.00049 8.0444 5.29374 7.22215 5.84314C6.39991 6.39255 5.75904 7.17344 5.3806 8.08707C5.00217 9.0007 4.90315 10.006 5.09608 10.9759C5.289 11.9458 5.76521 12.8368 6.46447 13.536C7.16373 14.2353 8.05465 14.7115 9.02455 14.9044C9.99446 15.0973 10.9998 14.9983 11.9134 14.6199C12.827 14.2415 13.6079 13.6006 14.1573 12.7783C14.7068 11.9561 15 10.9894 15 10.0005C15 8.67441 14.4732 7.40264 13.5355 6.46496C12.5979 5.52727 11.3261 5.00049 10 5.00049ZM10 13.0005C9.40666 13.0005 8.82664 12.8245 8.33329 12.4949C7.83994 12.1653 7.45543 11.6967 7.22836 11.1485C7.0013 10.6004 6.94189 9.99716 7.05765 9.41522C7.1734 8.83328 7.45912 8.29873 7.87868 7.87917C8.29824 7.45961 8.83279 7.17389 9.41473 7.05813C9.99667 6.94238 10.5999 7.00179 11.1481 7.22885C11.6962 7.45591 12.1648 7.84043 12.4944 8.33378C12.8241 8.82713 13 9.40715 13 10.0005C13 10.7961 12.6839 11.5592 12.1213 12.1218C11.5587 12.6844 10.7957 13.0005 10 13.0005ZM22 15.0005C22.9889 15.0005 23.9556 14.7072 24.7779 14.1578C25.6001 13.6084 26.241 12.8275 26.6194 11.9139C26.9978 11.0003 27.0969 9.99494 26.9039 9.02504C26.711 8.05513 26.2348 7.16422 25.5355 6.46496C24.8363 5.76569 23.9454 5.28949 22.9755 5.09656C22.0055 4.90364 21.0002 5.00265 20.0866 5.38109C19.173 5.75953 18.3921 6.40039 17.8427 7.22264C17.2932 8.04489 17 9.01158 17 10.0005C17 11.3266 17.5268 12.5983 18.4645 13.536C19.4022 14.4737 20.6739 15.0005 22 15.0005ZM22 7.00049C22.5933 7.00049 23.1734 7.17644 23.6667 7.50608C24.1601 7.83573 24.5446 8.30426 24.7716 8.85244C24.9987 9.40062 25.0581 10.0038 24.9424 10.5858C24.8266 11.1677 24.5409 11.7023 24.1213 12.1218C23.7018 12.5414 23.1672 12.8271 22.5853 12.9428C22.0033 13.0586 21.4001 12.9992 20.852 12.7721C20.3038 12.5451 19.8352 12.1605 19.5056 11.6672C19.1759 11.1739 19 10.5938 19 10.0005C19 9.20484 19.3161 8.44178 19.8787 7.87917C20.4413 7.31656 21.2044 7.00049 22 7.00049ZM10 17.0005C9.0111 17.0005 8.0444 17.2937 7.22215 17.8431C6.39991 18.3925 5.75904 19.1734 5.3806 20.0871C5.00217 21.0007 4.90315 22.006 5.09608 22.9759C5.289 23.9458 5.76521 24.8368 6.46447 25.536C7.16373 26.2353 8.05465 26.7115 9.02455 26.9044C9.99446 27.0973 10.9998 26.9983 11.9134 26.6199C12.827 26.2414 13.6079 25.6006 14.1573 24.7783C14.7068 23.9561 15 22.9894 15 22.0005C15 20.6744 14.4732 19.4026 13.5355 18.465C12.5979 17.5273 11.3261 17.0005 10 17.0005ZM10 25.0005C9.40666 25.0005 8.82664 24.8245 8.33329 24.4949C7.83994 24.1653 7.45543 23.6967 7.22836 23.1485C7.0013 22.6004 6.94189 21.9972 7.05765 21.4152C7.1734 20.8333 7.45912 20.2987 7.87868 19.8792C8.29824 19.4596 8.83279 19.1739 9.41473 19.0581C9.99667 18.9424 10.5999 19.0018 11.1481 19.2289C11.6962 19.4559 12.1648 19.8404 12.4944 20.3338C12.8241 20.8271 13 21.4071 13 22.0005C13 22.7961 12.6839 23.5592 12.1213 24.1218C11.5587 24.6844 10.7957 25.0005 10 25.0005ZM22 17.0005C21.0111 17.0005 20.0444 17.2937 19.2222 17.8431C18.3999 18.3925 17.759 19.1734 17.3806 20.0871C17.0022 21.0007 16.9031 22.006 17.0961 22.9759C17.289 23.9458 17.7652 24.8368 18.4645 25.536C19.1637 26.2353 20.0546 26.7115 21.0245 26.9044C21.9945 27.0973 22.9998 26.9983 23.9134 26.6199C24.8271 26.2414 25.6079 25.6006 26.1574 24.7783C26.7068 23.9561 27 22.9894 27 22.0005C27 20.6744 26.4732 19.4026 25.5355 18.465C24.5979 17.5273 23.3261 17.0005 22 17.0005ZM22 25.0005C21.4067 25.0005 20.8266 24.8245 20.3333 24.4949C19.8399 24.1653 19.4554 23.6967 19.2284 23.1485C19.0013 22.6004 18.9419 21.9972 19.0576 21.4152C19.1734 20.8333 19.4591 20.2987 19.8787 19.8792C20.2982 19.4596 20.8328 19.1739 21.4147 19.0581C21.9967 18.9424 22.5999 19.0018 23.1481 19.2289C23.6962 19.4559 24.1648 19.8404 24.4944 20.3338C24.8241 20.8271 25 21.4071 25 22.0005C25 22.7961 24.6839 23.5592 24.1213 24.1218C23.5587 24.6844 22.7957 25.0005 22 25.0005Z" fill="currentColor" />
        // </svg>
    ),
    Calendar: () => (
        // <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        //     <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
        //     <line x1="16" y1="2" x2="16" y2="6" />
        //     <line x1="8" y1="2" x2="8" y2="6" />
        //     <line x1="3" y1="10" x2="21" y2="10" />
        // </svg>
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M26 4.00049H23V3.00049C23 2.73527 22.8946 2.48092 22.7071 2.29338C22.5196 2.10585 22.2652 2.00049 22 2.00049C21.7348 2.00049 21.4804 2.10585 21.2929 2.29338C21.1054 2.48092 21 2.73527 21 3.00049V4.00049H11V3.00049C11 2.73527 10.8946 2.48092 10.7071 2.29338C10.5196 2.10585 10.2652 2.00049 10 2.00049C9.73478 2.00049 9.48043 2.10585 9.29289 2.29338C9.10536 2.48092 9 2.73527 9 3.00049V4.00049H6C5.46957 4.00049 4.96086 4.2112 4.58579 4.58627C4.21071 4.96135 4 5.47006 4 6.00049V26.0005C4 26.5309 4.21071 27.0396 4.58579 27.4147C4.96086 27.7898 5.46957 28.0005 6 28.0005H26C26.5304 28.0005 27.0391 27.7898 27.4142 27.4147C27.7893 27.0396 28 26.5309 28 26.0005V6.00049C28 5.47006 27.7893 4.96135 27.4142 4.58627C27.0391 4.2112 26.5304 4.00049 26 4.00049ZM9 6.00049V7.00049C9 7.2657 9.10536 7.52006 9.29289 7.70759C9.48043 7.89513 9.73478 8.00049 10 8.00049C10.2652 8.00049 10.5196 7.89513 10.7071 7.70759C10.8946 7.52006 11 7.2657 11 7.00049V6.00049H21V7.00049C21 7.2657 21.1054 7.52006 21.2929 7.70759C21.4804 7.89513 21.7348 8.00049 22 8.00049C22.2652 8.00049 22.5196 7.89513 22.7071 7.70759C22.8946 7.52006 23 7.2657 23 7.00049V6.00049H26V10.0005H6V6.00049H9ZM26 26.0005H6V12.0005H26V26.0005ZM17.5 16.5005C17.5 16.7972 17.412 17.0872 17.2472 17.3338C17.0824 17.5805 16.8481 17.7728 16.574 17.8863C16.2999 17.9998 15.9983 18.0295 15.7074 17.9717C15.4164 17.9138 15.1491 17.7709 14.9393 17.5611C14.7296 17.3514 14.5867 17.0841 14.5288 16.7931C14.4709 16.5022 14.5006 16.2006 14.6142 15.9265C14.7277 15.6524 14.92 15.4181 15.1666 15.2533C15.4133 15.0885 15.7033 15.0005 16 15.0005C16.3978 15.0005 16.7794 15.1585 17.0607 15.4398C17.342 15.7211 17.5 16.1027 17.5 16.5005ZM23 16.5005C23 16.7972 22.912 17.0872 22.7472 17.3338C22.5824 17.5805 22.3481 17.7728 22.074 17.8863C21.7999 17.9998 21.4983 18.0295 21.2074 17.9717C20.9164 17.9138 20.6491 17.7709 20.4393 17.5611C20.2296 17.3514 20.0867 17.0841 20.0288 16.7931C19.9709 16.5022 20.0007 16.2006 20.1142 15.9265C20.2277 15.6524 20.42 15.4181 20.6666 15.2533C20.9133 15.0885 21.2033 15.0005 21.5 15.0005C21.8978 15.0005 22.2794 15.1585 22.5607 15.4398C22.842 15.7211 23 16.1027 23 16.5005ZM12 21.5005C12 21.7972 11.912 22.0872 11.7472 22.3338C11.5824 22.5805 11.3481 22.7728 11.074 22.8863C10.7999 22.9998 10.4983 23.0295 10.2074 22.9717C9.91639 22.9138 9.64912 22.7709 9.43934 22.5611C9.22956 22.3514 9.0867 22.0841 9.02882 21.7931C8.97094 21.5022 9.00065 21.2006 9.11418 20.9265C9.22771 20.6524 9.41997 20.4181 9.66665 20.2533C9.91332 20.0885 10.2033 20.0005 10.5 20.0005C10.8978 20.0005 11.2794 20.1585 11.5607 20.4398C11.842 20.7211 12 21.1027 12 21.5005ZM17.5 21.5005C17.5 21.7972 17.412 22.0872 17.2472 22.3338C17.0824 22.5805 16.8481 22.7728 16.574 22.8863C16.2999 22.9998 15.9983 23.0295 15.7074 22.9717C15.4164 22.9138 15.1491 22.7709 14.9393 22.5611C14.7296 22.3514 14.5867 22.0841 14.5288 21.7931C14.4709 21.5022 14.5006 21.2006 14.6142 20.9265C14.7277 20.6524 14.92 20.4181 15.1666 20.2533C15.4133 20.0885 15.7033 20.0005 16 20.0005C16.3978 20.0005 16.7794 20.1585 17.0607 20.4398C17.342 20.7211 17.5 21.1027 17.5 21.5005ZM23 21.5005C23 21.7972 22.912 22.0872 22.7472 22.3338C22.5824 22.5805 22.3481 22.7728 22.074 22.8863C21.7999 22.9998 21.4983 23.0295 21.2074 22.9717C20.9164 22.9138 20.6491 22.7709 20.4393 22.5611C20.2296 22.3514 20.0867 22.0841 20.0288 21.7931C19.9709 21.5022 20.0007 21.2006 20.1142 20.9265C20.2277 20.6524 20.42 20.4181 20.6666 20.2533C20.9133 20.0885 21.2033 20.0005 21.5 20.0005C21.8978 20.0005 22.2794 20.1585 22.5607 20.4398C22.842 20.7211 23 21.1027 23 21.5005Z" fill="currentColor" />
        </svg>
        // <svg width="22" height="22" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        //     <path d="M26 4.00049H23V3.00049C23 2.73527 22.8946 2.48092 22.7071 2.29338C22.5196 2.10585 22.2652 2.00049 22 2.00049C21.7348 2.00049 21.4804 2.10585 21.2929 2.29338C21.1054 2.48092 21 2.73527 21 3.00049V4.00049H11V3.00049C11 2.73527 10.8946 2.48092 10.7071 2.29338C10.5196 2.10585 10.2652 2.00049 10 2.00049C9.73478 2.00049 9.48043 2.10585 9.29289 2.29338C9.10536 2.48092 9 2.73527 9 3.00049V4.00049H6C5.46957 4.00049 4.96086 4.2112 4.58579 4.58627C4.21071 4.96135 4 5.47006 4 6.00049V26.0005C4 26.5309 4.21071 27.0396 4.58579 27.4147C4.96086 27.7898 5.46957 28.0005 6 28.0005H26C26.5304 28.0005 27.0391 27.7898 27.4142 27.4147C27.7893 27.0396 28 26.5309 28 26.0005V6.00049C28 5.47006 27.7893 4.96135 27.4142 4.58627C27.0391 4.2112 26.5304 4.00049 26 4.00049ZM9 6.00049V7.00049C9 7.2657 9.10536 7.52006 9.29289 7.70759C9.48043 7.89513 9.73478 8.00049 10 8.00049C10.2652 8.00049 10.5196 7.89513 10.7071 7.70759C10.8946 7.52006 11 7.2657 11 7.00049V6.00049H21V7.00049C21 7.2657 21.1054 7.52006 21.2929 7.70759C21.4804 7.89513 21.7348 8.00049 22 8.00049C22.2652 8.00049 22.5196 7.89513 22.7071 7.70759C22.8946 7.52006 23 7.2657 23 7.00049V6.00049H26V10.0005H6V6.00049H9ZM26 26.0005H6V12.0005H26V26.0005Z" fill="currentColor" />
        // </svg>
    ),
    BriefCase: () => (
        <svg className="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 0 0-2 2v4m5-6h8M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m0 0h3a2 2 0 0 1 2 2v4m0 0v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-6m18 0s-4 2-9 2-9-2-9-2m9-2h.01" />
        </svg>
    ),
    FileText: () => (
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
            <polyline points="14,2 14,8 20,8" />
            <line x1="16" y1="13" x2="8" y2="13" />
            <line x1="16" y1="17" x2="8" y2="17" />
            <polyline points="10,9 9,9 8,9" />
        </svg>
    ),
    Network: () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <circle cx="12" cy="12" r="3" />
            <path d="M12 1v6m0 6v6" />
            <path d="m21 12-6-3-6 3-6-3" />
        </svg>
    ),
    MessageSquare: () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
        </svg>
    ),
    Users: () => (
        // <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        //     <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
        //     <circle cx="9" cy="7" r="4" />
        //     <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
        //     <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        // </svg>
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.6558 19.7406C15.9961 18.8483 17.0136 17.5485 17.558 16.0332C18.1023 14.5179 18.1445 12.8676 17.6785 11.3265C17.2124 9.78532 16.2627 8.43507 14.9699 7.47539C13.677 6.51571 12.1097 5.99756 10.4996 5.99756C8.88948 5.99756 7.32212 6.51571 6.02929 7.47539C4.73645 8.43507 3.78677 9.78532 3.32069 11.3265C2.8546 12.8676 2.89685 14.5179 3.4412 16.0332C3.98554 17.5485 5.00307 18.8483 6.34332 19.7406C3.91894 20.6341 1.84846 22.2876 0.440824 24.4544C0.366843 24.5643 0.315457 24.6879 0.28965 24.8179C0.263844 24.9478 0.264133 25.0817 0.2905 25.2115C0.316868 25.3414 0.368788 25.4648 0.443242 25.5744C0.517696 25.684 0.6132 25.7778 0.724202 25.8502C0.835204 25.9226 0.959489 25.9722 1.08983 25.9961C1.22018 26.0201 1.35398 26.0179 1.48347 25.9896C1.61295 25.9614 1.73554 25.9077 1.8441 25.8317C1.95265 25.7557 2.04502 25.6589 2.11582 25.5469C3.02381 24.1503 4.26627 23.0028 5.73037 22.2083C7.19447 21.4139 8.83383 20.9978 10.4996 20.9978C12.1653 20.9978 13.8047 21.4139 15.2688 22.2083C16.7329 23.0028 17.9753 24.1503 18.8833 25.5469C19.03 25.7648 19.2566 25.9164 19.514 25.9686C19.7715 26.0209 20.0392 25.9697 20.2593 25.8262C20.4794 25.6827 20.6341 25.4583 20.6901 25.2016C20.746 24.9449 20.6987 24.6765 20.5583 24.4544C19.1507 22.2876 17.0802 20.6341 14.6558 19.7406ZM4.99957 13.5006C4.99957 12.4128 5.32214 11.3494 5.92649 10.445C6.53084 9.54049 7.38982 8.83555 8.39481 8.41926C9.39981 8.00298 10.5057 7.89406 11.5726 8.10628C12.6395 8.3185 13.6195 8.84233 14.3887 9.61151C15.1579 10.3807 15.6817 11.3607 15.8939 12.4276C16.1061 13.4945 15.9972 14.6004 15.5809 15.6054C15.1646 16.6104 14.4597 17.4693 13.5552 18.0737C12.6507 18.678 11.5874 19.0006 10.4996 19.0006C9.04139 18.9989 7.6434 18.419 6.61231 17.3879C5.58122 16.3568 5.00123 14.9588 4.99957 13.5006ZM31.2671 25.8381C31.0449 25.9829 30.7744 26.0336 30.5149 25.979C30.2554 25.9244 30.0282 25.7689 29.8833 25.5469C28.9764 24.1495 27.7341 23.0014 26.2697 22.2073C24.8053 21.4132 23.1654 20.9984 21.4996 21.0006C21.2344 21.0006 20.98 20.8952 20.7925 20.7077C20.6049 20.5202 20.4996 20.2658 20.4996 20.0006C20.4996 19.7354 20.6049 19.481 20.7925 19.2935C20.98 19.106 21.2344 19.0006 21.4996 19.0006C22.3095 18.9998 23.1093 18.8202 23.8418 18.4745C24.5743 18.1288 25.2214 17.6256 25.7369 17.0008C26.2523 16.376 26.6234 15.6451 26.8237 14.8603C27.0239 14.0755 27.0483 13.2561 26.8952 12.4608C26.7421 11.6654 26.4152 10.9137 25.9378 10.2593C25.4605 9.60498 24.8445 9.06411 24.134 8.67539C23.4234 8.28667 22.6357 8.0597 21.8272 8.01068C21.0187 7.96167 20.2094 8.09182 19.4571 8.39185C19.3344 8.44488 19.2024 8.47278 19.0687 8.47391C18.9351 8.47504 18.8026 8.44937 18.679 8.39843C18.5555 8.34748 18.4434 8.27229 18.3494 8.17729C18.2554 8.08229 18.1814 7.96942 18.1318 7.84534C18.0822 7.72126 18.0579 7.58849 18.0605 7.45487C18.063 7.32126 18.0923 7.18951 18.1466 7.06742C18.201 6.94532 18.2792 6.83535 18.3768 6.74401C18.4743 6.65266 18.5892 6.5818 18.7146 6.5356C20.4364 5.84892 22.3515 5.8242 24.0905 6.46624C25.8295 7.10827 27.2691 8.37155 28.1316 10.0124C28.9941 11.6532 29.2184 13.5553 28.7612 15.3517C28.304 17.1482 27.1978 18.7117 25.6558 19.7406C28.0802 20.6341 30.1507 22.2876 31.5583 24.4544C31.7032 24.6765 31.7539 24.947 31.6992 25.2065C31.6446 25.466 31.4892 25.6932 31.2671 25.8381Z" fill="currentColor" />
        </svg>
    ),
    BookOpen: () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
        </svg>
    ),
    Workplaces: () => (
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M31 26.0005H29V12.0005C29.2652 12.0005 29.5196 11.8951 29.7071 11.7076C29.8946 11.5201 30 11.2657 30 11.0005C30 10.7353 29.8946 10.4809 29.7071 10.2934C29.5196 10.1058 29.2652 10.0005 29 10.0005H23V6.00049C23.2652 6.00049 23.5196 5.89513 23.7071 5.70759C23.8946 5.52006 24 5.2657 24 5.00049C24 4.73527 23.8946 4.48092 23.7071 4.29338C23.5196 4.10585 23.2652 4.00049 23 4.00049H5C4.73478 4.00049 4.48043 4.10585 4.29289 4.29338C4.10536 4.48092 4 4.73527 4 5.00049C4 5.2657 4.10536 5.52006 4.29289 5.70759C4.48043 5.89513 4.73478 6.00049 5 6.00049V26.0005H3C2.73478 26.0005 2.48043 26.1058 2.29289 26.2934C2.10536 26.4809 2 26.7353 2 27.0005C2 27.2657 2.10536 27.5201 2.29289 27.7076C2.48043 27.8951 2.73478 28.0005 3 28.0005H31C31.2652 28.0005 31.5196 27.8951 31.7071 27.7076C31.8946 27.5201 32 27.2657 32 27.0005C32 26.7353 31.8946 26.4809 31.7071 26.2934C31.5196 26.1058 31.2652 26.0005 31 26.0005ZM27 12.0005V26.0005H23V12.0005H27ZM7 6.00049H21V26.0005H18V20.0005C18 19.7353 17.8946 19.4809 17.7071 19.2934C17.5196 19.1058 17.2652 19.0005 17 19.0005H11C10.7348 19.0005 10.4804 19.1058 10.2929 19.2934C10.1054 19.4809 10 19.7353 10 20.0005V26.0005H7V6.00049ZM16 26.0005H12V21.0005H16V26.0005ZM9 10.0005C9 9.73527 9.10536 9.48092 9.29289 9.29338C9.48043 9.10585 9.73478 9.00049 10 9.00049H12C12.2652 9.00049 12.5196 9.10585 12.7071 9.29338C12.8946 9.48092 13 9.73527 13 10.0005C13 10.2657 12.8946 10.5201 12.7071 10.7076C12.5196 10.8951 12.2652 11.0005 12 11.0005H10C9.73478 11.0005 9.48043 10.8951 9.29289 10.7076C9.10536 10.5201 9 10.2657 9 10.0005ZM15 10.0005C15 9.73527 15.1054 9.48092 15.2929 9.29338C15.4804 9.10585 15.7348 9.00049 16 9.00049H18C18.2652 9.00049 18.5196 9.10585 18.7071 9.29338C18.8946 9.48092 19 9.73527 19 10.0005C19 10.2657 18.8946 10.5201 18.7071 10.7076C18.5196 10.8951 18.2652 11.0005 18 11.0005H16C15.7348 11.0005 15.4804 10.8951 15.2929 10.7076C15.1054 10.5201 15 10.2657 15 10.0005ZM9 15.0005C9 14.7353 9.10536 14.4809 9.29289 14.2934C9.48043 14.1058 9.73478 14.0005 10 14.0005H12C12.2652 14.0005 12.5196 14.1058 12.7071 14.2934C12.8946 14.4809 13 14.7353 13 15.0005C13 15.2657 12.8946 15.5201 12.7071 15.7076C12.5196 15.8951 12.2652 16.0005 12 16.0005H10C9.73478 16.0005 9.48043 15.8951 9.29289 15.7076C9.10536 15.5201 9 15.2657 9 15.0005ZM15 15.0005C15 14.7353 15.1054 14.4809 15.2929 14.2934C15.4804 14.1058 15.7348 14.0005 16 14.0005H18C18.2652 14.0005 18.5196 14.1058 18.7071 14.2934C18.8946 14.4809 19 14.7353 19 15.0005C19 15.2657 18.8946 15.5201 18.7071 15.7076C18.5196 15.8951 18.2652 16.0005 18 16.0005H16C15.7348 16.0005 15.4804 15.8951 15.2929 15.7076C15.1054 15.5201 15 15.2657 15 15.0005Z" fill="currentColor" />
        </svg>
    ),
    Shield: () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
        </svg>
    ),
    HelpCircle: () => (
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.5 22.5005C17.5 22.7972 17.412 23.0872 17.2472 23.3338C17.0824 23.5805 16.8481 23.7728 16.574 23.8863C16.2999 23.9998 15.9983 24.0295 15.7074 23.9717C15.4164 23.9138 15.1491 23.7709 14.9393 23.5611C14.7296 23.3514 14.5867 23.0841 14.5288 22.7931C14.471 22.5022 14.5007 22.2006 14.6142 21.9265C14.7277 21.6524 14.92 21.4181 15.1667 21.2533C15.4133 21.0885 15.7033 21.0005 16 21.0005C16.3978 21.0005 16.7794 21.1585 17.0607 21.4398C17.342 21.7211 17.5 22.1027 17.5 22.5005ZM16 9.00049C13.2425 9.00049 11 11.0192 11 13.5005V14.0005C11 14.2657 11.1054 14.5201 11.2929 14.7076C11.4804 14.8951 11.7348 15.0005 12 15.0005C12.2652 15.0005 12.5196 14.8951 12.7071 14.7076C12.8946 14.5201 13 14.2657 13 14.0005V13.5005C13 12.1255 14.3463 11.0005 16 11.0005C17.6538 11.0005 19 12.1255 19 13.5005C19 14.8755 17.6538 16.0005 16 16.0005C15.7348 16.0005 15.4804 16.1058 15.2929 16.2934C15.1054 16.4809 15 16.7353 15 17.0005V18.0005C15 18.2657 15.1054 18.5201 15.2929 18.7076C15.4804 18.8951 15.7348 19.0005 16 19.0005C16.2652 19.0005 16.5196 18.8951 16.7071 18.7076C16.8946 18.5201 17 18.2657 17 18.0005V17.9105C19.28 17.4917 21 15.673 21 13.5005C21 11.0192 18.7575 9.00049 16 9.00049ZM29 16.0005C29 18.5716 28.2376 21.0851 26.8091 23.2229C25.3807 25.3607 23.3503 27.027 20.9749 28.0109C18.5995 28.9949 15.9856 29.2523 13.4638 28.7507C10.9421 28.2491 8.6257 27.011 6.80762 25.1929C4.98953 23.3748 3.75141 21.0584 3.2498 18.5367C2.74819 16.0149 3.00563 13.401 3.98957 11.0256C4.97351 8.65016 6.63975 6.61984 8.77759 5.19138C10.9154 3.76293 13.4288 3.00049 16 3.00049C19.4467 3.00413 22.7512 4.37494 25.1884 6.81212C27.6256 9.2493 28.9964 12.5538 29 16.0005ZM27 16.0005C27 13.8249 26.3549 11.6982 25.1462 9.88922C23.9375 8.08027 22.2195 6.67038 20.2095 5.83781C18.1995 5.00525 15.9878 4.78741 13.854 5.21185C11.7202 5.63629 9.76021 6.68394 8.22183 8.22231C6.68345 9.76069 5.63581 11.7207 5.21137 13.8545C4.78693 15.9883 5.00477 18.2 5.83733 20.21C6.66989 22.22 8.07979 23.938 9.88873 25.1467C11.6977 26.3554 13.8244 27.0005 16 27.0005C18.9164 26.9972 21.7123 25.8372 23.7745 23.775C25.8367 21.7128 26.9967 18.9169 27 16.0005Z" fill="currentColor" />
        </svg>
    ),
    Settings: () => (
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.0001 10.0005C14.8134 10.0005 13.6533 10.3524 12.6666 11.0117C11.6799 11.671 10.9109 12.6081 10.4568 13.7044C10.0027 14.8008 9.88383 16.0072 10.1153 17.1711C10.3469 18.335 10.9183 19.4041 11.7574 20.2432C12.5965 21.0823 13.6656 21.6537 14.8295 21.8853C15.9934 22.1168 17.1998 21.9979 18.2962 21.5438C19.3925 21.0897 20.3296 20.3207 20.9889 19.334C21.6482 18.3473 22.0001 17.1872 22.0001 16.0005C21.9984 14.4098 21.3657 12.8846 20.2409 11.7597C19.116 10.6349 17.5908 10.0022 16.0001 10.0005ZM16.0001 20.0005C15.2089 20.0005 14.4356 19.7659 13.7778 19.3264C13.12 18.8869 12.6073 18.2622 12.3045 17.5313C12.0018 16.8004 11.9226 15.9961 12.0769 15.2202C12.2313 14.4443 12.6122 13.7315 13.1716 13.1721C13.731 12.6127 14.4438 12.2317 15.2197 12.0774C15.9956 11.9231 16.7999 12.0023 17.5308 12.305C18.2617 12.6078 18.8864 13.1205 19.3259 13.7783C19.7655 14.4361 20.0001 15.2094 20.0001 16.0005C20.0001 17.0614 19.5786 18.0788 18.8285 18.829C18.0783 19.5791 17.0609 20.0005 16.0001 20.0005ZM27.0001 16.2705C27.0051 16.0905 27.0051 15.9105 27.0001 15.7305L28.8651 13.4005C28.9628 13.2782 29.0305 13.1346 29.0627 12.9813C29.0948 12.828 29.0905 12.6694 29.0501 12.518C28.7443 11.3688 28.287 10.2654 27.6901 9.2368C27.6119 9.10219 27.5034 8.98769 27.3732 8.90241C27.243 8.81712 27.0947 8.76341 26.9401 8.74555L23.9751 8.41555C23.8517 8.28555 23.7267 8.16055 23.6001 8.04055L23.2501 5.06805C23.2321 4.91331 23.1782 4.76492 23.0926 4.63471C23.0071 4.5045 22.8924 4.39606 22.7576 4.31805C21.7286 3.72223 20.6253 3.26534 19.4763 2.9593C19.3249 2.91904 19.1662 2.91492 19.0129 2.94728C18.8596 2.97963 18.716 3.04754 18.5938 3.14555L16.2701 5.00055C16.0901 5.00055 15.9101 5.00055 15.7301 5.00055L13.4001 3.1393C13.2777 3.04151 13.1341 2.97382 12.9808 2.94168C12.8276 2.90955 12.6689 2.91387 12.5176 2.9543C11.3685 3.26058 10.2651 3.7179 9.23631 4.3143C9.1017 4.39245 8.9872 4.50095 8.90192 4.63116C8.81664 4.76136 8.76292 4.90968 8.74506 5.0643L8.41506 8.0343C8.28506 8.15846 8.16006 8.28346 8.04006 8.4093L5.06756 8.75055C4.91282 8.76855 4.76443 8.82245 4.63422 8.90796C4.50401 8.99346 4.39557 9.10821 4.31756 9.24305C3.72174 10.272 3.26485 11.3753 2.95881 12.5243C2.91855 12.6757 2.91444 12.8344 2.94679 12.9877C2.97914 13.141 3.04705 13.2846 3.14506 13.4068L5.00006 15.7305C5.00006 15.9105 5.00006 16.0905 5.00006 16.2705L3.13881 18.6005C3.04102 18.7229 2.97333 18.8665 2.9412 19.0198C2.90906 19.173 2.91338 19.3317 2.95381 19.483C3.25954 20.6323 3.71689 21.7357 4.31381 22.7643C4.39196 22.8989 4.50046 23.0134 4.63067 23.0987C4.76087 23.184 4.90919 23.2377 5.06381 23.2555L8.02881 23.5855C8.15297 23.7155 8.27797 23.8405 8.40381 23.9605L8.75006 26.933C8.76806 27.0878 8.82196 27.2362 8.90747 27.3664C8.99298 27.4966 9.10772 27.605 9.24256 27.683C10.2715 28.2789 11.3749 28.7358 12.5238 29.0418C12.6752 29.0821 12.834 29.0862 12.9872 29.0538C13.1405 29.0215 13.2841 28.9535 13.4063 28.8555L15.7301 27.0005C15.9101 27.0055 16.0901 27.0055 16.2701 27.0005L18.6001 28.8655C18.7224 28.9633 18.866 29.031 19.0193 29.0632C19.1726 29.0953 19.3312 29.091 19.4826 29.0505C20.6318 28.7448 21.7352 28.2875 22.7638 27.6905C22.8984 27.6124 23.0129 27.5039 23.0982 27.3737C23.1835 27.2435 23.2372 27.0952 23.2551 26.9405L23.5851 23.9755C23.7151 23.8522 23.8401 23.7272 23.9601 23.6005L26.9326 23.2505C27.0873 23.2325 27.2357 23.1786 27.3659 23.0931C27.4961 23.0076 27.6045 22.8929 27.6826 22.758C28.2784 21.7291 28.7353 20.6257 29.0413 19.4768C29.0816 19.3254 29.0857 19.1666 29.0533 19.0134C29.021 18.8601 28.9531 18.7165 28.8551 18.5943L27.0001 16.2705ZM24.9876 15.458C25.0088 15.8194 25.0088 16.1817 24.9876 16.543C24.9727 16.7904 25.0502 17.0346 25.2051 17.228L26.9788 19.4443C26.7753 20.0911 26.5147 20.7186 26.2001 21.3193L23.3751 21.6393C23.129 21.6666 22.9019 21.7842 22.7376 21.9693C22.4969 22.2399 22.2407 22.4962 21.9701 22.7368C21.7849 22.9011 21.6674 23.1283 21.6401 23.3743L21.3263 26.1968C20.7257 26.5116 20.0982 26.7722 19.4513 26.9755L17.2338 25.2018C17.0564 25.06 16.8359 24.9829 16.6088 24.983H16.5488C16.1875 25.0043 15.8252 25.0043 15.4638 24.983C15.2164 24.9682 14.9723 25.0457 14.7788 25.2005L12.5563 26.9755C11.9095 26.772 11.282 26.5114 10.6813 26.1968L10.3613 23.3755C10.334 23.1295 10.2164 22.9024 10.0313 22.738C9.76069 22.4974 9.50442 22.2412 9.26381 21.9705C9.09947 21.7854 8.87233 21.6679 8.62631 21.6405L5.80381 21.3255C5.48905 20.7249 5.22843 20.0974 5.02506 19.4505L6.79881 17.233C6.95369 17.0396 7.0312 16.7954 7.01631 16.548C6.99506 16.1867 6.99506 15.8244 7.01631 15.463C7.0312 15.2156 6.95369 14.9715 6.79881 14.778L5.02506 12.5568C5.22859 11.91 5.4892 11.2825 5.80381 10.6818L8.62506 10.3618C8.87108 10.3345 9.09822 10.2169 9.26256 10.0318C9.50317 9.76118 9.75944 9.50491 10.0301 9.2643C10.2159 9.09985 10.334 8.87219 10.3613 8.62555L10.6751 5.8043C11.2757 5.48954 11.9032 5.22892 12.5501 5.02555L14.7676 6.7993C14.961 6.95418 15.2052 7.03169 15.4526 7.0168C15.8139 6.99555 16.1762 6.99555 16.5376 7.0168C16.785 7.03169 17.0291 6.95418 17.2226 6.7993L19.4438 5.02555C20.0906 5.22908 20.7181 5.48969 21.3188 5.8043L21.6388 8.62555C21.6661 8.87156 21.7837 9.09871 21.9688 9.26305C22.2394 9.50366 22.4957 9.75993 22.7363 10.0305C22.9006 10.2157 23.1278 10.3332 23.3738 10.3605L26.1963 10.6743C26.5111 11.2749 26.7717 11.9024 26.9751 12.5493L25.2013 14.7668C25.0449 14.9619 24.9673 15.2085 24.9838 15.458H24.9876Z" fill="currentColor" />
        </svg>
    ),
    LogOut: () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
            <polyline points="16,17 21,12 16,7" />
            <line x1="21" y1="12" x2="9" y2="12" />
        </svg>
    ),
    ChevronRight: () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <polyline points="9,18 15,12 9,6" />
        </svg>
    ),
    AssistantsIcon: () => (
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.9998 10.0005C18.9998 9.7353 19.1051 9.48095 19.2927 9.29341C19.4802 9.10587 19.7346 9.00052 19.9998 9.00052H30.9998C31.265 9.00052 31.5194 9.10587 31.7069 9.29341C31.8944 9.48095 31.9998 9.7353 31.9998 10.0005C31.9998 10.2657 31.8944 10.5201 31.7069 10.7076C31.5194 10.8952 31.265 11.0005 30.9998 11.0005H19.9998C19.7346 11.0005 19.4802 10.8952 19.2927 10.7076C19.1051 10.5201 18.9998 10.2657 18.9998 10.0005ZM30.9998 15.0005H19.9998C19.7346 15.0005 19.4802 15.1059 19.2927 15.2934C19.1051 15.4809 18.9998 15.7353 18.9998 16.0005C18.9998 16.2657 19.1051 16.5201 19.2927 16.7076C19.4802 16.8952 19.7346 17.0005 19.9998 17.0005H30.9998C31.265 17.0005 31.5194 16.8952 31.7069 16.7076C31.8944 16.5201 31.9998 16.2657 31.9998 16.0005C31.9998 15.7353 31.8944 15.4809 31.7069 15.2934C31.5194 15.1059 31.265 15.0005 30.9998 15.0005ZM30.9998 21.0005H22.9998C22.7346 21.0005 22.4802 21.1059 22.2927 21.2934C22.1051 21.4809 21.9998 21.7353 21.9998 22.0005C21.9998 22.2657 22.1051 22.5201 22.2927 22.7076C22.4802 22.8952 22.7346 23.0005 22.9998 23.0005H30.9998C31.265 23.0005 31.5194 22.8952 31.7069 22.7076C31.8944 22.5201 31.9998 22.2657 31.9998 22.0005C31.9998 21.7353 31.8944 21.4809 31.7069 21.2934C31.5194 21.1059 31.265 21.0005 30.9998 21.0005ZM18.9685 23.7505C19.0012 23.8777 19.0085 24.0101 18.99 24.1402C18.9715 24.2702 18.9276 24.3954 18.8608 24.5084C18.7939 24.6215 18.7054 24.7203 18.6004 24.7991C18.4953 24.878 18.3758 24.9354 18.2485 24.968C18.167 24.99 18.083 25.0009 17.9985 25.0005C17.7768 25.0006 17.5612 24.927 17.3859 24.7912C17.2105 24.6555 17.0852 24.4653 17.0298 24.2505C16.2598 21.258 13.2373 19.0005 9.99854 19.0005C6.75979 19.0005 3.73729 21.2568 2.96729 24.2505C2.90098 24.5074 2.73533 24.7275 2.50677 24.8623C2.27821 24.9971 2.00547 25.0356 1.74854 24.9693C1.49161 24.903 1.27154 24.7373 1.13675 24.5087C1.00196 24.2802 0.963484 24.0074 1.02979 23.7505C1.72854 21.0368 3.75979 18.8393 6.33729 17.7505C5.34483 16.9861 4.61652 15.9302 4.25452 14.7309C3.89251 13.5316 3.91496 12.2491 4.31872 11.0633C4.72248 9.87737 5.48729 8.84762 6.5059 8.1184C7.5245 7.38918 8.74581 6.99707 9.99854 6.99707C11.2513 6.99707 12.4726 7.38918 13.4912 8.1184C14.5098 8.84762 15.2746 9.87737 15.6784 11.0633C16.0821 12.2491 16.1046 13.5316 15.7426 14.7309C15.3806 15.9302 14.6522 16.9861 13.6598 17.7505C16.2385 18.8393 18.2698 21.0368 18.9685 23.7505ZM9.99979 17.0005C10.7909 17.0005 11.5643 16.7659 12.2221 16.3264C12.8799 15.8869 13.3926 15.2622 13.6953 14.5313C13.9981 13.8003 14.0773 12.9961 13.9229 12.2202C13.7686 11.4442 13.3876 10.7315 12.8282 10.1721C12.2688 9.61268 11.5561 9.23172 10.7801 9.07737C10.0042 8.92303 9.19996 9.00225 8.46905 9.305C7.73815 9.60775 7.11343 10.1204 6.67391 10.7782C6.23438 11.436 5.99979 12.2094 5.99979 13.0005C5.99979 14.0614 6.42122 15.0788 7.17136 15.8289C7.92151 16.5791 8.93892 17.0005 9.99979 17.0005Z" fill="currentColor" />
        </svg>
    ),
    Menu: () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="3" y1="6" x2="21" y2="6" />
            <line x1="3" y1="12" x2="21" y2="12" />
            <line x1="3" y1="18" x2="21" y2="18" />
        </svg>
    ),
<<<<<<< HEAD
    Doctor: () => (
        <svg width="20" height="20" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M27.5 20.0005C27.5 20.2972 27.412 20.5872 27.2472 20.8338C27.0824 21.0805 26.8481 21.2728 26.574 21.3863C26.2999 21.4998 25.9983 21.5295 25.7074 21.4717C25.4164 21.4138 25.1491 21.2709 24.9393 21.0611C24.7296 20.8514 24.5867 20.5841 24.5288 20.2931C24.4709 20.0022 24.5007 19.7006 24.6142 19.4265C24.7277 19.1524 24.92 18.9181 25.1666 18.7533C25.4133 18.5885 25.7033 18.5005 26 18.5005C26.3978 18.5005 26.7794 18.6585 27.0607 18.9398C27.342 19.2211 27.5 19.6027 27.5 20.0005ZM26.9312 24.9117C26.7116 26.3278 25.9932 27.6187 24.9057 28.5518C23.8181 29.4849 22.433 29.9986 21 30.0005H18C16.4092 29.9988 14.884 29.3662 13.7592 28.2413C12.6343 27.1164 12.0017 25.5913 12 24.0005V18.9367C10.0669 18.6932 8.28915 17.7526 7.00033 16.2914C5.71152 14.8302 5.00024 12.9489 5 11.0005V5.00049C5 4.73527 5.10536 4.48092 5.29289 4.29338C5.48043 4.10585 5.73478 4.00049 6 4.00049H9C9.26522 4.00049 9.51957 4.10585 9.70711 4.29338C9.89464 4.48092 10 4.73527 10 5.00049C10 5.2657 9.89464 5.52006 9.70711 5.70759C9.51957 5.89513 9.26522 6.00049 9 6.00049H7V11.0005C6.99993 11.7952 7.15773 12.582 7.46425 13.3152C7.77077 14.0484 8.2199 14.7135 8.78555 15.2717C9.3512 15.8299 10.0221 16.2702 10.7593 16.5669C11.4965 16.8637 12.2854 17.0111 13.08 17.0005C16.3438 16.958 19 14.2192 19 10.8967V6.00049H17C16.7348 6.00049 16.4804 5.89513 16.2929 5.70759C16.1054 5.52006 16 5.2657 16 5.00049C16 4.73527 16.1054 4.48092 16.2929 4.29338C16.4804 4.10585 16.7348 4.00049 17 4.00049H20C20.2652 4.00049 20.5196 4.10585 20.7071 4.29338C20.8946 4.48092 21 4.73527 21 5.00049V10.8967C21 15.0017 17.9338 18.433 14 18.9355V24.0005C14 25.0614 14.4214 26.0788 15.1716 26.8289C15.9217 27.5791 16.9391 28.0005 18 28.0005H21C21.9084 27.999 22.7893 27.6889 23.4983 27.1212C24.2074 26.5534 24.7025 25.7616 24.9025 24.8755C23.6948 24.6042 22.6306 23.8946 21.916 22.884C21.2013 21.8733 20.8869 20.6335 21.0336 19.4045C21.1803 18.1754 21.7776 17.0444 22.7101 16.2304C23.6426 15.4164 24.8439 14.9771 26.0815 14.9977C27.3191 15.0183 28.5051 15.4973 29.41 16.3418C30.3149 17.1864 30.8743 18.3367 30.98 19.5699C31.0858 20.8032 30.7303 22.0319 29.9824 23.0182C29.2345 24.0045 28.1473 24.6783 26.9312 24.9092V24.9117ZM29 20.0005C29 19.4071 28.8241 18.8271 28.4944 18.3338C28.1648 17.8404 27.6962 17.4559 27.1481 17.2288C26.5999 17.0018 25.9967 16.9424 25.4147 17.0581C24.8328 17.1739 24.2982 17.4596 23.8787 17.8792C23.4591 18.2987 23.1734 18.8333 23.0576 19.4152C22.9419 19.9972 23.0013 20.6004 23.2284 21.1485C23.4554 21.6967 23.8399 22.1653 24.3333 22.4949C24.8266 22.8245 25.4067 23.0005 26 23.0005C26.7956 23.0005 27.5587 22.6844 28.1213 22.1218C28.6839 21.5592 29 20.7961 29 20.0005Z" fill="currentColor" />
        </svg>
    ),
    StarPro: ({ className = '' }: { className?: string }) => (
        <svg width="20" height="20" viewBox="0 0 32 32" fill="none" className={className} xmlns="http://www.w3.org/2000/svg">
            <path d="M24.6977 16.133L18.2502 13.7505L15.8752 7.29799C15.7346 6.9159 15.4801 6.58615 15.1461 6.35322C14.8122 6.12029 14.4149 5.99541 14.0077 5.99541C13.6005 5.99541 13.2032 6.12029 12.8692 6.35322C12.5353 6.58615 12.2808 6.9159 12.1402 7.29799L9.7502 13.7505L3.2977 16.1255C2.91561 16.2661 2.58586 16.5206 2.35293 16.8545C2.12001 17.1885 1.99512 17.5858 1.99512 17.993C1.99512 18.4001 2.12001 18.7975 2.35293 19.1314C2.58586 19.4654 2.91561 19.7198 3.2977 19.8605L9.7502 22.2505L12.1252 28.703C12.2658 29.0851 12.5203 29.4148 12.8542 29.6478C13.1882 29.8807 13.5855 30.0056 13.9927 30.0056C14.3999 30.0056 14.7972 29.8807 15.1311 29.6478C15.4651 29.4148 15.7196 29.0851 15.8602 28.703L18.2502 22.2505L24.7027 19.8755C25.0848 19.7348 25.4145 19.4804 25.6475 19.1464C25.8804 18.8125 26.0053 18.4151 26.0053 18.008C26.0053 17.6008 25.8804 17.2035 25.6475 16.8695C25.4145 16.5356 25.0848 16.2811 24.7027 16.1405L24.6977 16.133ZM17.1252 20.528C16.9895 20.578 16.8662 20.6569 16.7639 20.7592C16.6616 20.8615 16.5827 20.9848 16.5327 21.1205L14.0002 27.9817L11.4727 21.1255C11.4228 20.9883 11.3434 20.8638 11.2402 20.7605C11.1369 20.6573 11.0124 20.5779 10.8752 20.528L4.01895 18.0005L10.8752 15.473C11.0124 15.423 11.1369 15.3437 11.2402 15.2404C11.3434 15.1372 11.4228 15.0127 11.4727 14.8755L14.0002 8.01924L16.5277 14.8755C16.5777 15.0112 16.6566 15.1345 16.7589 15.2368C16.8612 15.3391 16.9845 15.418 17.1202 15.468L23.9814 18.0005L17.1252 20.528ZM18.0002 5.00049C18.0002 4.73527 18.1056 4.48092 18.2931 4.29338C18.4806 4.10585 18.735 4.00049 19.0002 4.00049H21.0002V2.00049C21.0002 1.73527 21.1056 1.48092 21.2931 1.29338C21.4806 1.10585 21.735 1.00049 22.0002 1.00049C22.2654 1.00049 22.5198 1.10585 22.7073 1.29338C22.8948 1.48092 23.0002 1.73527 23.0002 2.00049V4.00049H25.0002C25.2654 4.00049 25.5198 4.10585 25.7073 4.29338C25.8948 4.48092 26.0002 4.73527 26.0002 5.00049C26.0002 5.2657 25.8948 5.52006 25.7073 5.70759C25.5198 5.89513 25.2654 6.00049 25.0002 6.00049H23.0002V8.00049C23.0002 8.2657 22.8948 8.52006 22.7073 8.70759C22.5198 8.89513 22.2654 9.00049 22.0002 9.00049C21.735 9.00049 21.4806 8.89513 21.2931 8.70759C21.1056 8.52006 21.0002 8.2657 21.0002 8.00049V6.00049H19.0002C18.735 6.00049 18.4806 5.89513 18.2931 5.70759C18.1056 5.52006 18.0002 5.2657 18.0002 5.00049ZM31.0002 11.0005C31.0002 11.2657 30.8948 11.5201 30.7073 11.7076C30.5198 11.8951 30.2654 12.0005 30.0002 12.0005H29.0002V13.0005C29.0002 13.2657 28.8948 13.5201 28.7073 13.7076C28.5198 13.8951 28.2654 14.0005 28.0002 14.0005C27.735 14.0005 27.4806 13.8951 27.2931 13.7076C27.1056 13.5201 27.0002 13.2657 27.0002 13.0005V12.0005H26.0002C25.735 12.0005 25.4806 11.8951 25.2931 11.7076C25.1056 11.5201 25.0002 11.2657 25.0002 11.0005C25.0002 10.7353 25.1056 10.4809 25.2931 10.2934C25.4806 10.1058 25.735 10.0005 26.0002 10.0005H27.0002V9.00049C27.0002 8.73527 27.1056 8.48092 27.2931 8.29338C27.4806 8.10585 27.735 8.00049 28.0002 8.00049C28.2654 8.00049 28.5198 8.10585 28.7073 8.29338C28.8948 8.48092 29.0002 8.73527 29.0002 9.00049V10.0005H30.0002C30.2654 10.0005 30.5198 10.1058 30.7073 10.2934C30.8948 10.4809 31.0002 10.7353 31.0002 11.0005Z" fill="currentColor" />
        </svg>
    ),
    Cart: () => (
        <svg width="20" height="20" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M28.7675 7.35924C28.6736 7.24691 28.5562 7.15656 28.4236 7.09457C28.291 7.03258 28.1464 7.00046 28 7.00049H7.835L7.075 2.82174C7.03314 2.59132 6.91174 2.38291 6.73196 2.23283C6.55218 2.08275 6.32544 2.00052 6.09125 2.00049H3C2.73478 2.00049 2.48043 2.10585 2.29289 2.29338C2.10536 2.48092 2 2.73527 2 3.00049C2 3.2657 2.10536 3.52006 2.29289 3.7076C2.48043 3.89513 2.73478 4.00049 3 4.00049H5.25L8.445 21.5367C8.53911 22.0568 8.76895 22.5428 9.11125 22.9455C8.63881 23.3868 8.29781 23.9503 8.12607 24.5735C7.95433 25.1967 7.95856 25.8554 8.13829 26.4763C8.31801 27.0973 8.66622 27.6564 9.14428 28.0916C9.62235 28.5267 10.2116 28.821 10.8467 28.9417C11.4818 29.0625 12.1379 29.0049 12.7423 28.7755C13.3467 28.5461 13.8758 28.1538 14.2708 27.6421C14.6658 27.1304 14.9114 26.5192 14.9804 25.8764C15.0493 25.2336 14.9388 24.5843 14.6613 24.0005H20.3388C20.115 24.4688 19.9993 24.9814 20 25.5005C20 26.1927 20.2053 26.8694 20.5899 27.445C20.9744 28.0206 21.5211 28.4692 22.1606 28.7341C22.8001 28.999 23.5039 29.0683 24.1828 28.9332C24.8617 28.7982 25.4854 28.4648 25.9749 27.9754C26.4644 27.4859 26.7977 26.8622 26.9327 26.1833C27.0678 25.5044 26.9985 24.8006 26.7336 24.1611C26.4687 23.5216 26.0201 22.9749 25.4445 22.5903C24.8689 22.2058 24.1922 22.0005 23.5 22.0005H11.3962C11.1621 22.0005 10.9353 21.9182 10.7555 21.7682C10.5758 21.6181 10.4544 21.4097 10.4125 21.1792L10.0162 19.0005H24.5163C25.2188 19.0004 25.8991 18.7537 26.4384 18.3035C26.9777 17.8532 27.3419 17.228 27.4675 16.5367L28.9875 8.17924C29.0132 8.03479 29.0069 7.88644 28.9688 7.74473C28.9308 7.60302 28.8621 7.47141 28.7675 7.35924ZM13 25.5005C13 25.7972 12.912 26.0872 12.7472 26.3338C12.5824 26.5805 12.3481 26.7728 12.074 26.8863C11.7999 26.9998 11.4983 27.0295 11.2074 26.9717C10.9164 26.9138 10.6491 26.7709 10.4393 26.5611C10.2296 26.3514 10.0867 26.0841 10.0288 25.7931C9.97094 25.5022 10.0006 25.2006 10.1142 24.9265C10.2277 24.6524 10.42 24.4181 10.6666 24.2533C10.9133 24.0885 11.2033 24.0005 11.5 24.0005C11.8978 24.0005 12.2794 24.1585 12.5607 24.4398C12.842 24.7211 13 25.1027 13 25.5005ZM25 25.5005C25 25.7972 24.912 26.0872 24.7472 26.3338C24.5824 26.5805 24.3481 26.7728 24.074 26.8863C23.7999 26.9998 23.4983 27.0295 23.2074 26.9717C22.9164 26.9138 22.6491 26.7709 22.4393 26.5611C22.2296 26.3514 22.0867 26.0841 22.0288 25.7931C21.9709 25.5022 22.0007 25.2006 22.1142 24.9265C22.2277 24.6524 22.42 24.4181 22.6666 24.2533C22.9133 24.0885 23.2033 24.0005 23.5 24.0005C23.8978 24.0005 24.2794 24.1585 24.5607 24.4398C24.842 24.7211 25 25.1027 25 25.5005ZM25.5 16.1792C25.458 16.4103 25.3361 16.6192 25.1555 16.7694C24.975 16.9195 24.7473 17.0013 24.5125 17.0005H9.6525L8.19875 9.00049H26.8013L25.5 16.1792Z" fill="currentColor" />
        </svg>
    ),
    Inventory: () => (
        <svg width="20" height="20" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M27.96 8.26926L16.96 2.25051C16.6661 2.08811 16.3358 2.00293 16 2.00293C15.6642 2.00293 15.3339 2.08811 15.04 2.25051L4.04 8.27176C3.72586 8.44364 3.46363 8.69671 3.28069 9.00454C3.09775 9.31237 3.00081 9.66367 3 10.0218V21.9768C3.00081 22.3348 3.09775 22.6861 3.28069 22.994C3.46363 23.3018 3.72586 23.5549 4.04 23.7268L15.04 29.748C15.3339 29.9104 15.6642 29.9956 16 29.9956C16.3358 29.9956 16.6661 29.9104 16.96 29.748L27.96 23.7268C28.2741 23.5549 28.5364 23.3018 28.7193 22.994C28.9023 22.6861 28.9992 22.3348 29 21.9768V10.023C28.9999 9.66429 28.9032 9.3122 28.7203 9.00365C28.5373 8.69511 28.2747 8.44145 27.96 8.26926ZM16 4.00051L26.0425 9.50051L16 15.0005L5.9575 9.50051L16 4.00051ZM5 11.2505L15 16.723V27.4468L5 21.978V11.2505ZM17 27.4468V16.728L27 11.2505V21.973L17 27.4468Z" fill="currentColor" />
        </svg>
    ),
    Reservations: () => (
        <svg width="20" height="20" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M23 14.0005C23 14.2657 22.8946 14.5201 22.7071 14.7076C22.5196 14.8951 22.2652 15.0005 22 15.0005H14C13.7348 15.0005 13.4804 14.8951 13.2929 14.7076C13.1054 14.5201 13 14.2657 13 14.0005C13 13.7353 13.1054 13.4809 13.2929 13.2934C13.4804 13.1058 13.7348 13.0005 14 13.0005H22C22.2652 13.0005 22.5196 13.1058 22.7071 13.2934C22.8946 13.4809 23 13.7353 23 14.0005ZM22 17.0005H14C13.7348 17.0005 13.4804 17.1058 13.2929 17.2934C13.1054 17.4809 13 17.7353 13 18.0005C13 18.2657 13.1054 18.5201 13.2929 18.7076C13.4804 18.8951 13.7348 19.0005 14 19.0005H22C22.2652 19.0005 22.5196 18.8951 22.7071 18.7076C22.8946 18.5201 23 18.2657 23 18.0005C23 17.7353 22.8946 17.4809 22.7071 17.2934C22.5196 17.1058 22.2652 17.0005 22 17.0005ZM28 6.00049V26.0005C28 26.5309 27.7893 27.0396 27.4142 27.4147C27.0391 27.7898 26.5304 28.0005 26 28.0005H6C5.46957 28.0005 4.96086 27.7898 4.58579 27.4147C4.21071 27.0396 4 26.5309 4 26.0005V6.00049C4 5.47006 4.21071 4.96135 4.58579 4.58627C4.96086 4.2112 5.46957 4.00049 6 4.00049H26C26.5304 4.00049 27.0391 4.2112 27.4142 4.58627C27.7893 4.96135 28 5.47006 28 6.00049ZM6 26.0005H9V6.00049H6V26.0005ZM26 26.0005V6.00049H11V26.0005H26Z" fill="currentColor" />
        </svg>
    ),

=======
>>>>>>> parent of 94b044c (Merge branch 'master' of https://dev.azure.com/FYP-Healthcare-2025/FYP%20Healthcare%202025/_git/FYP%20Healthcare%202025)
};

// Types
interface NavigationItem {
    title: string;
    icon: keyof typeof Icons;
    url: string;
}

interface SidebarContextType {
    isCollapsed: boolean;
    toggleSidebar: () => void;
}

interface SidebarProps {
    onLogout?: () => void;
    items: NavigationItem[];
    generalItems?: NavigationItem[];
}

// Context
const SidebarContext = createContext<SidebarContextType | undefined>(undefined);

const useSidebar = () => {
    const context = useContext(SidebarContext);
    if (!context) {
        throw new Error('useSidebar must be used within SidebarProvider');
    }
    return context;
};

export const SidebarProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
    const [isCollapsed, setIsCollapsed] = useState(false);

    const toggleSidebar = () => {
        setIsCollapsed(!isCollapsed);
    };

    const contextValue: SidebarContextType = {
        isCollapsed,
        toggleSidebar,
    };

    return (
        <SidebarContext.Provider value={contextValue}>
            {children}
        </SidebarContext.Provider>
    );
};

const generalItems: NavigationItem[] = [
    { title: "Security & Privacy", icon: "Shield", url: "/security" },
    { title: "Get Help", icon: "HelpCircle", url: "/help" },
    { title: "Settings", icon: "Settings", url: "/settings" },
];

// Logo Components
const FullLogo: React.FC = () => (
    <svg width="120" height="32" viewBox="0 0 210 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M23.2195 10.9268C23.2195 10.1725 22.6074 9.55679 21.8544 9.60113C17.7418 9.8433 13.7585 11.1763 10.3195 13.4742C6.50102 16.0256 3.52492 19.6519 1.76749 23.8948C0.0100608 28.1376 -0.449763 32.8062 0.446167 37.3104C1.3421 41.8145 3.55354 45.9518 6.80085 49.1992C10.0482 52.4465 14.1855 54.6579 18.6896 55.5538C23.1938 56.4498 27.8624 55.9899 32.1052 54.2325C36.3481 52.4751 39.9744 49.499 42.5258 45.6806C44.8238 42.2415 46.1567 38.2582 46.3989 34.1456C46.4432 33.3926 45.8275 32.7805 45.0732 32.7805H37.9396C37.1852 32.7805 36.581 33.3936 36.504 34.144C36.2823 36.3033 35.5367 38.3834 34.3231 40.1997C32.8558 42.3958 30.7701 44.1074 28.33 45.1182C25.8898 46.1289 23.2047 46.3934 20.6142 45.8781C18.0238 45.3628 15.6443 44.091 13.7767 42.2233C11.909 40.3557 10.6372 37.9762 10.1219 35.3858C9.60662 32.7953 9.87108 30.1102 10.8818 27.67C11.8926 25.2299 13.6042 23.1442 15.8003 21.6769C17.6166 20.4633 19.6967 19.7177 21.856 19.496C22.6064 19.419 23.2195 18.8148 23.2195 18.0604V10.9268Z" fill="#050F2A" />
        <path d="M27.3171 10.9268C27.3171 10.1725 27.9286 9.56097 28.6829 9.56097H35.5122C36.2665 9.56097 36.8781 10.1725 36.8781 10.9268V17.7561C36.8781 18.5104 36.2665 19.1219 35.5122 19.1219H28.6829C27.9286 19.1219 27.3171 18.5104 27.3171 17.7561V10.9268Z" fill="#050F2A" />
        <path d="M36.8781 1.36585C36.8781 0.611513 37.4896 0 38.2439 0H45.0732C45.8275 0 46.439 0.611513 46.439 1.36585V8.19512C46.439 8.94946 45.8275 9.56097 45.0732 9.56097H38.2439C37.4896 9.56097 36.8781 8.94946 36.8781 8.19512V1.36585Z" fill="#050F2A" />
        <path d="M46.439 10.9268C46.439 10.1725 47.0505 9.56097 47.8049 9.56097H54.6341C55.3885 9.56097 56 10.1725 56 10.9268V17.7561C56 18.5104 55.3885 19.1219 54.6341 19.1219H47.8049C47.0505 19.1219 46.439 18.5104 46.439 17.7561V10.9268Z" fill="#050F2A" />
        <path d="M36.8781 20.4878C36.8781 19.7335 37.4896 19.1219 38.2439 19.1219H45.0732C45.8275 19.1219 46.439 19.7335 46.439 20.4878V27.3171C46.439 28.0714 45.8275 28.6829 45.0732 28.6829H38.2439C37.4896 28.6829 36.8781 28.0714 36.8781 27.3171V20.4878Z" fill="#050F2A" />
        <path d="M67.184 31.832C67.184 29.656 67.6853 27.704 68.688 25.976C69.712 24.248 71.088 22.904 72.816 21.944C74.5653 20.9627 76.4747 20.472 78.544 20.472C80.912 20.472 83.0133 21.0587 84.848 22.232C86.704 23.384 88.048 25.0267 88.88 27.16H84.496C83.92 25.9867 83.12 25.112 82.096 24.536C81.072 23.96 79.888 23.672 78.544 23.672C77.072 23.672 75.76 24.0027 74.608 24.664C73.456 25.3253 72.5493 26.2747 71.888 27.512C71.248 28.7493 70.928 30.1893 70.928 31.832C70.928 33.4747 71.248 34.9147 71.888 36.152C72.5493 37.3893 73.456 38.3493 74.608 39.032C75.76 39.6933 77.072 40.024 78.544 40.024C79.888 40.024 81.072 39.736 82.096 39.16C83.12 38.584 83.92 37.7093 84.496 36.536H88.88C88.048 38.6693 86.704 40.312 84.848 41.464C83.0133 42.616 80.912 43.192 78.544 43.192C76.4533 43.192 74.544 42.712 72.816 41.752C71.088 40.7707 69.712 39.416 68.688 37.688C67.6853 35.96 67.184 34.008 67.184 31.832ZM91.934 34.104C91.934 32.3333 92.2967 30.7653 93.022 29.4C93.7687 28.0347 94.7713 26.9787 96.03 26.232C97.31 25.464 98.718 25.08 100.254 25.08C101.641 25.08 102.846 25.3573 103.87 25.912C104.915 26.4453 105.747 27.1173 106.366 27.928V25.368H110.046V43H106.366V40.376C105.747 41.208 104.905 41.9013 103.838 42.456C102.771 43.0107 101.555 43.288 100.19 43.288C98.6753 43.288 97.2887 42.904 96.03 42.136C94.7713 41.3467 93.7687 40.2587 93.022 38.872C92.2967 37.464 91.934 35.8747 91.934 34.104ZM106.366 34.168C106.366 32.952 106.11 31.896 105.598 31C105.107 30.104 104.457 29.4213 103.646 28.952C102.835 28.4827 101.961 28.248 101.022 28.248C100.083 28.248 99.2087 28.4827 98.398 28.952C97.5873 29.4 96.926 30.072 96.414 30.968C95.9233 31.8427 95.678 32.888 95.678 34.104C95.678 35.32 95.9233 36.3867 96.414 37.304C96.926 38.2213 97.5873 38.9253 98.398 39.416C99.23 39.8853 100.105 40.12 101.022 40.12C101.961 40.12 102.835 39.8853 103.646 39.416C104.457 38.9467 105.107 38.264 105.598 37.368C106.11 36.4507 106.366 35.384 106.366 34.168ZM118.486 27.928C119.019 27.032 119.723 26.3387 120.598 25.848C121.494 25.336 122.55 25.08 123.766 25.08V28.856H122.838C121.408 28.856 120.32 29.2187 119.574 29.944C118.848 30.6693 118.486 31.928 118.486 33.72V43H114.838V25.368H118.486V27.928ZM143.279 33.752C143.279 34.4133 143.236 35.0107 143.151 35.544H129.679C129.785 36.952 130.308 38.0827 131.247 38.936C132.185 39.7893 133.337 40.216 134.703 40.216C136.665 40.216 138.052 39.3947 138.863 37.752H142.799C142.265 39.3733 141.295 40.7067 139.887 41.752C138.5 42.776 136.772 43.288 134.703 43.288C133.017 43.288 131.503 42.9147 130.159 42.168C128.836 41.4 127.791 40.3333 127.023 38.968C126.276 37.5813 125.903 35.9813 125.903 34.168C125.903 32.3547 126.265 30.7653 126.991 29.4C127.737 28.0133 128.772 26.9467 130.095 26.2C131.439 25.4533 132.975 25.08 134.703 25.08C136.367 25.08 137.849 25.4427 139.151 26.168C140.452 26.8933 141.465 27.9173 142.191 29.24C142.916 30.5413 143.279 32.0453 143.279 33.752ZM139.471 32.6C139.449 31.256 138.969 30.1787 138.031 29.368C137.092 28.5573 135.929 28.152 134.543 28.152C133.284 28.152 132.207 28.5573 131.311 29.368C130.415 30.1573 129.881 31.2347 129.711 32.6H139.471ZM162.421 27.384C162.421 28.5147 162.154 29.5813 161.621 30.584C161.087 31.5867 160.234 32.408 159.061 33.048C157.887 33.6667 156.383 33.976 154.549 33.976H150.517V43H146.869V20.76H154.549C156.255 20.76 157.695 21.0587 158.869 21.656C160.063 22.232 160.949 23.0213 161.525 24.024C162.122 25.0267 162.421 26.1467 162.421 27.384ZM154.549 31C155.935 31 156.97 30.6907 157.653 30.072C158.335 29.432 158.677 28.536 158.677 27.384C158.677 24.952 157.301 23.736 154.549 23.736H150.517V31H154.549ZM169.548 19.32V43H165.9V19.32H169.548ZM190.306 25.368V43H186.658V40.92C186.082 41.6453 185.324 42.2213 184.386 42.648C183.468 43.0533 182.487 43.256 181.442 43.256C180.055 43.256 178.807 42.968 177.698 42.392C176.61 41.816 175.746 40.9627 175.106 39.832C174.487 38.7013 174.178 37.336 174.178 35.736V25.368H177.794V35.192C177.794 36.7707 178.188 37.9867 178.978 38.84C179.767 39.672 180.844 40.088 182.21 40.088C183.575 40.088 184.652 39.672 185.442 38.84C186.252 37.9867 186.658 36.7707 186.658 35.192V25.368H190.306ZM201.519 43.288C200.132 43.288 198.884 43.0427 197.775 42.552C196.687 42.04 195.823 41.3573 195.183 40.504C194.543 39.6293 194.201 38.6587 194.159 37.592H197.935C197.999 38.3387 198.351 38.968 198.991 39.48C199.652 39.9707 200.473 40.216 201.455 40.216C202.479 40.216 203.268 40.024 203.823 39.64C204.399 39.2347 204.687 38.7227 204.687 38.104C204.687 37.4427 204.367 36.952 203.727 36.632C203.108 36.312 202.116 35.96 200.751 35.576C199.428 35.2133 198.351 34.8613 197.519 34.52C196.687 34.1787 195.961 33.656 195.343 32.952C194.745 32.248 194.447 31.32 194.447 30.168C194.447 29.2293 194.724 28.376 195.279 27.608C195.833 26.8187 196.623 26.2 197.647 25.752C198.692 25.304 199.887 25.08 201.231 25.08C203.236 25.08 204.847 25.592 206.063 26.616C207.3 27.6187 207.961 28.9947 208.047 30.744H204.399C204.335 29.9547 204.015 29.3253 203.439 28.856C202.863 28.3867 202.084 28.152 201.103 28.152C200.143 28.152 199.407 28.3333 198.895 28.696C198.383 29.0587 198.127 29.5387 198.127 30.136C198.127 30.6053 198.297 31 198.639 31.32C198.98 31.64 199.396 31.896 199.887 32.088C200.377 32.2587 201.103 32.4827 202.063 32.76C203.343 33.1013 204.388 33.4533 205.199 33.816C206.031 34.1573 206.745 34.6693 207.343 35.352C207.94 36.0347 208.249 36.9413 208.271 38.072C208.271 39.0747 207.993 39.9707 207.439 40.76C206.884 41.5493 206.095 42.168 205.071 42.616C204.068 43.064 202.884 43.288 201.519 43.288Z" fill="#050F2A" />
    </svg>
);

const IconLogo: React.FC = () => (
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M212.293 99.9024C212.293 93.0056 206.697 87.3763 199.812 87.7817C162.21 89.9959 125.792 102.183 94.3493 123.192C59.4379 146.519 32.2278 179.675 16.1599 218.466C0.0919844 257.258 -4.11212 299.943 4.07924 341.124C12.2706 382.304 32.4895 420.131 62.1792 449.821C91.8688 479.511 129.696 499.729 170.876 507.921C212.057 516.112 254.742 511.908 293.534 495.84C332.325 479.772 365.481 452.562 388.808 417.651C409.817 386.208 422.004 349.79 424.218 312.188C424.624 305.303 418.994 299.707 412.098 299.707H346.876C339.979 299.707 334.455 305.313 333.75 312.174C331.724 331.916 324.907 350.934 313.812 367.54C300.396 387.619 281.327 403.268 259.017 412.509C236.707 421.75 212.157 424.168 188.473 419.457C164.789 414.746 143.033 403.117 125.958 386.042C108.883 368.967 97.2542 347.211 92.5431 323.527C87.832 299.843 90.2499 275.293 99.491 252.983C108.732 230.673 124.381 211.604 144.46 198.188C161.066 187.093 180.084 180.276 199.826 178.25C206.687 177.545 212.293 172.021 212.293 165.124V99.9024Z" fill="#050F2A" />
        <path d="M249.756 99.9024C249.756 93.0056 255.347 87.4146 262.244 87.4146H324.683C331.58 87.4146 337.171 93.0056 337.171 99.9024V162.341C337.171 169.238 331.58 174.829 324.683 174.829H262.244C255.347 174.829 249.756 169.238 249.756 162.341V99.9024Z" fill="#050F2A" />
        <path d="M337.171 12.4878C337.171 5.59098 342.762 0 349.659 0H412.098C418.994 0 424.585 5.59098 424.585 12.4878V74.9268C424.585 81.8236 418.994 87.4146 412.098 87.4146H349.659C342.762 87.4146 337.171 81.8236 337.171 74.9268V12.4878Z" fill="#050F2A" />
        <path d="M424.585 99.9024C424.585 93.0056 430.176 87.4146 437.073 87.4146H499.512C506.409 87.4146 512 93.0056 512 99.9024V162.341C512 169.238 506.409 174.829 499.512 174.829H437.073C430.176 174.829 424.585 169.238 424.585 162.341V99.9024Z" fill="#050F2A" />
        <path d="M337.171 187.317C337.171 180.42 342.762 174.829 349.659 174.829H412.098C418.994 174.829 424.585 180.42 424.585 187.317V249.756C424.585 256.653 418.994 262.244 412.098 262.244H349.659C342.762 262.244 337.171 256.653 337.171 249.756V187.317Z" fill="#050F2A" />
    </svg>
);

// Avatar Component
const Avatar: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = '' }) => (
    <div className={`sidebar-avatar ${className}`}>
        {children}
    </div>
);

// Navigation Item Component
const NavigationItem: React.FC<{ item: NavigationItem; isActive: boolean }> = ({ item, isActive }) => {
    const { isCollapsed } = useSidebar();
    const navigate = useNavigate();
    const IconComponent = Icons[item.icon];

    const handleClick = () => {
        navigate(item.url);
    };

    return (
        <li className={`sidebar-nav-item ${isActive ? 'active' : ''}`}>
            <button onClick={handleClick} className="sidebar-nav-button" title={item.title}>
                <IconComponent />
                {!isCollapsed && <span>{item.title}</span>}
            </button>
        </li>
    );
};

// User Profile Component
const UserProfile: React.FC = () => {
    const { isCollapsed } = useSidebar();
    const navigate = useNavigate();
    const { user } = useAuth();

    // pull from context first; fall back to localStorage if needed
    const storedUser = localStorage.getItem("user");
    const parsedUser = storedUser ? JSON.parse(storedUser) : null;

    const name = user?.name ?? parsedUser?.name ?? "";
    const roleRaw = (user?.role ?? parsedUser?.role ?? "").toString();
    const role = roleRaw.toLowerCase();
    const profileUrl = PROFILE_ROUTES[role] ?? "/account/profile";

    const initials = name
        .split(" ")
        .filter(Boolean)
        .map((w: string) => w[0])
        .slice(0, 2)
        .join("")
        .toUpperCase();

    const formattedRole =
        role ? role.slice(0, 1).toUpperCase() + role.slice(1).toLowerCase() : "";

    const openProfile = () => navigate(profileUrl);

    return (
        <div
            className="sidebar-user-profile"
            role="button"
            tabIndex={0}
            onClick={openProfile}
            onKeyDown={(e) => {
                if (e.key === "Enter" || e.key === " ") openProfile();
            }}
            title="Open my profile"
        >
            <Avatar className="user-avatar">
                <div className="avatar-fallback">{initials}</div>
            </Avatar>

            {!isCollapsed && (
                <div className="user-info">
                    <div className="user-name">{name}</div>
                    <div className="user-role">{formattedRole}</div>
                </div>
            )}
            {!isCollapsed && <Icons.ChevronRight />}
        </div>
    );
};

// Main Sidebar Component
const Sidebar: React.FC<SidebarProps> = ({ onLogout, items, generalItems }) => {
    const { isCollapsed, toggleSidebar } = useSidebar();
    const location = useLocation();

    return (
        <div className={`sidebar ${isCollapsed ? 'collapsed' : 'expanded'}`}>
            {/* Header */}
            <div className="sidebar-header">
                <div className="sidebar-logo">
                    {isCollapsed ? <IconLogo /> : <FullLogo />}
                </div>
                <UserProfile />
            </div>

            {/* Navigation */}
            <div className="sidebar-content">
                {/* Main Navigation */}
                <nav className="sidebar-nav">
                    <ul>
                        {items.map((item: NavigationItem) => (
                            <NavigationItem
                                key={item.title}
                                item={item}
                                isActive={location.pathname.startsWith(item.url)}
                            />
                        ))}
                    </ul>
                </nav>

                {/* General Section */}
                <nav className="sidebar-nav">
                    {!isCollapsed && <div className="sidebar-section-title">General</div>}
                    <ul>
                        {(generalItems || []).map((item) => (
                            <NavigationItem
                                key={item.title}
                                item={item}
                                isActive={location.pathname.startsWith(item.url)}
                            />
                        ))}
                    </ul>
                </nav>
            </div>

            {/* Footer */}
            <div className="sidebar-footer">
                <button onClick={onLogout} className="sidebar-logout-button" title="Logout">
                    <Icons.LogOut />
                    {!isCollapsed && <span>Logout</span>}
                </button>
            </div>

            {/* Toggle Button */}
            <button className="sidebar-toggle" onClick={toggleSidebar}>
                <Icons.Menu />
            </button>
        </div>
    );
};

export default Sidebar;
export { useSidebar };
export type { SidebarProps };
export type { NavigationItem };